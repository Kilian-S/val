<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Will you be my Valentine?</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
    <!-- Preload celebration photos -->
    <link rel="preload" as="image" href="photos/45AE62F1-A26B-4FF1-83AB-F50F330DBDE5_1_105_c.jpeg">
    <link rel="preload" as="image" href="photos/70690C3A-7A97-4BF9-9FF4-1E2101E52FF5_1_105_c.jpeg">
    <link rel="preload" as="image" href="photos/IMG-20250602-WA0005.jpg">
    <link rel="preload" as="image" href="photos/IMG-20250826-WA0001.jpg">
    <link rel="preload" as="image" href="photos/IMG-20250826-WA0005.jpg">
    <link rel="preload" as="image" href="photos/IMG-20250826-WA0006.jpg">
    <link rel="preload" as="image" href="photos/PXL-20250604-224623582MP.gif">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            min-height: 100vh;
            background: linear-gradient(135deg, #fce4ec 0%, #f8bbd0 50%, #fce4ec 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Playfair Display', Georgia, 'Times New Roman', serif;
            overflow: hidden;
        }

        /* ── Landing Card ── */
        #card {
            background: #fff;
            border-radius: 24px;
            padding: 70px 90px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0,0,0,0.08);
            transition: opacity 0.6s ease, transform 0.6s ease;
            max-width: 620px;
            position: relative;
            z-index: 50;
        }
        #card.hidden {
            opacity: 0;
            transform: scale(0.92);
            pointer-events: none;
        }

        .hyena {
            width: 170px;
            height: 170px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 30px;
            border: 3px solid #fce4ec;
        }

        #card h1 {
            font-size: 2.3rem;
            font-weight: 400;
            color: #333;
            margin-bottom: 40px;
            line-height: 1.5;
        }

        .buttons {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 24px;
        }

        .btn {
            padding: 20px 52px;
            font-size: 1.45rem;
            font-weight: 600;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-family: inherit;
            transition: all 0.3s ease;
            letter-spacing: 0.02em;
        }

        #yes-btn {
            background: #e91e63;
            color: #fff;
        }
        #yes-btn:hover {
            background: #d81b60;
            transform: scale(1.03);
        }

        #no-btn {
            background: #f5f5f5;
            color: #777;
        }
        #no-btn.dodging {
            position: fixed;
            z-index: 999;
            transition: left 0.35s cubic-bezier(0.34,1.56,0.64,1),
                        top 0.35s cubic-bezier(0.34,1.56,0.64,1),
                        font-size 0.3s ease,
                        padding 0.3s ease;
        }

        /* ── Celebration ── */
        #celebration {
            position: fixed;
            inset: 0;
            display: none;
            overflow: hidden;
        }
        #celebration.active { display: block; }

        #bouquet {
            position: absolute;
            top: 32%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 10;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        #bouquet.visible { opacity: 1; }

        #bouquet path {
            fill: none;
            stroke-linecap: round;
            stroke-linejoin: round;
        }
        .stem         { stroke: #5a8f6a; stroke-width: 2.5; }
        .leaf         { stroke: #6aaa7a; stroke-width: 2; }
        .flower       { stroke: #e91e63; stroke-width: 2; }
        .flower-inner { stroke: #f06292; stroke-width: 1.5; }
        .bow          { stroke: #e91e63; stroke-width: 2.2; }

        .collage-photo {
            position: fixed;
            background: #fff;
            padding: 6px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            opacity: 0;
            transform: scale(0);
            z-index: 5;
        }
        .collage-photo.visible {
            opacity: 1;
            transition: opacity 0.7s ease,
                        transform 0.8s cubic-bezier(0.34,1.56,0.64,1);
        }
        .collage-photo img {
            display: block;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        #love-text {
            position: absolute;
            left: 50%;
            top: 62%;
            transform: translateX(-50%);
            font-size: 1.4rem;
            font-style: italic;
            font-weight: 400;
            color: #e91e63;
            opacity: 0;
            transition: opacity 2.8s ease;
            z-index: 20;
            text-align: center;
            line-height: 1.8;
        }
        #love-text p {
            margin: 0;
            white-space: nowrap;
        }
        #love-text.visible { opacity: 1; }

        #daisy {
            position: absolute;
            right: 32vw;
            bottom: 8vh;
            z-index: 15;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        #daisy.visible { opacity: 1; }
        #daisy path {
            stroke-linecap: round;
            stroke-linejoin: round;
        }
        .daisy-stem   { fill: none; stroke: #5a8f6a; stroke-width: 4; }
        .daisy-leaf   { fill: none; stroke: #6aaa7a; stroke-width: 3.5; }
        .daisy-petal  { fill: #fff; stroke: #fff; stroke-width: 1; }
        .daisy-center { fill: #f9a825; stroke: #e8a000; stroke-width: 1.5; }
        #daisy ellipse { fill: #f9a825; stroke: #e8a000; stroke-width: 1.5; }
    </style>
</head>
<body>

<!-- Landing -->
<div id="card">
    <img src="photos/hyena.jpg" class="hyena" alt="">
    <h1>Adriana, will you be my Valentine?</h1>
    <div class="buttons">
        <button class="btn" id="yes-btn">Yes</button>
        <button class="btn" id="no-btn">No</button>
    </div>
</div>

<!-- Celebration -->
<div id="celebration">
    <svg id="bouquet" viewBox="0 0 200 320" width="282" height="452">
        <!-- stems -->
        <path class="stem" d="M100,290 C92,260 78,220 68,175 C62,150 56,120 52,90"/>
        <path class="stem" d="M100,290 C100,255 100,220 100,175 C100,145 100,115 100,75"/>
        <path class="stem" d="M100,290 C108,260 122,220 132,175 C138,150 144,120 148,90"/>

        <!-- leaves -->
        <path class="leaf" d="M86,235 C68,228 52,218 48,200 C60,208 74,220 86,235"/>
        <path class="leaf" d="M114,215 C132,208 148,198 152,180 C140,188 126,200 114,215"/>
        <path class="leaf" d="M90,195 C72,188 56,178 52,160 C64,168 78,180 90,195"/>
        <path class="leaf" d="M110,175 C128,168 144,158 148,140 C136,148 122,160 110,175"/>

        <!-- left rose (shifted down+left) -->
        <!-- spiral center -->
        <path class="flower-inner" d="M52,58 C49,56 48,52 50,50 C52,48 56,49 57,52 C58,55 56,58 53,59"/>
        <path class="flower-inner" d="M53,59 C50,60 46,58 45,54 C44,50 46,46 50,45 C54,44 59,46 61,50 C63,54 62,60 58,63"/>
        <!-- inner petals -->
        <path class="flower" d="M58,63 C54,66 48,66 44,62 C40,58 39,51 42,46 C45,41 52,39 58,41 C64,43 69,49 69,56"/>
        <path class="flower" d="M69,56 C69,63 65,70 58,74 C51,78 42,78 36,74"/>
        <path class="flower" d="M42,46 C38,50 36,57 38,64 C40,71 46,78 54,80"/>
        <!-- outer petals -->
        <path class="flower" d="M36,74 C30,70 26,62 28,54 C30,46 36,40 44,38 C52,36 62,39 68,46"/>
        <path class="flower" d="M54,80 C62,82 70,79 75,72 C80,65 80,56 76,49"/>
        <path class="flower" d="M68,46 C72,51 74,58 72,66 C70,74 64,81 56,84"/>
        <!-- base petals -->
        <path class="flower" d="M28,54 C26,62 28,72 34,80 C40,88 50,93 60,92"/>
        <path class="flower" d="M56,84 C48,88 38,88 32,82"/>
        <path class="flower" d="M76,49 C80,56 80,66 76,76 C72,86 64,93 54,94"/>

        <!-- center rose (larger) -->
        <!-- spiral center -->
        <path class="flower-inner" d="M100,38 C96,36 94,32 96,28 C98,24 103,24 105,27 C107,30 105,35 101,37"/>
        <path class="flower-inner" d="M101,37 C97,39 92,37 90,33 C88,29 89,24 93,21 C97,18 104,18 108,22 C112,26 113,33 109,38"/>
        <path class="flower-inner" d="M109,38 C105,43 98,45 92,43 C86,41 82,35 83,28"/>
        <!-- inner petals -->
        <path class="flower" d="M83,28 C84,21 90,15 98,14 C106,13 114,17 118,24 C122,31 121,41 115,48"/>
        <path class="flower" d="M92,43 C86,48 78,50 72,47 C66,44 62,38 62,30"/>
        <path class="flower" d="M115,48 C109,55 100,59 91,57 C82,55 75,48 73,40"/>
        <!-- outer petals -->
        <path class="flower" d="M62,30 C62,22 67,14 76,10 C85,6 96,7 105,12 C114,17 121,27 122,38"/>
        <path class="flower" d="M73,40 C69,48 69,58 74,66 C79,74 88,79 98,79"/>
        <path class="flower" d="M122,38 C123,48 120,59 112,67 C104,75 93,78 83,75"/>
        <!-- base petals -->
        <path class="flower" d="M98,79 C108,79 118,74 124,66 C130,58 131,48 128,39"/>
        <path class="flower" d="M83,75 C75,72 68,65 66,56 C64,47 67,38 74,32"/>
        <path class="flower" d="M128,39 C130,48 128,58 122,67 C116,76 106,82 96,82"/>

        <!-- right rose (shifted down+right) -->
        <!-- spiral center -->
        <path class="flower-inner" d="M148,58 C151,56 152,52 150,50 C148,48 144,49 143,52 C142,55 144,58 147,59"/>
        <path class="flower-inner" d="M147,59 C150,60 154,58 155,54 C156,50 154,46 150,45 C146,44 141,46 139,50 C137,54 138,60 142,63"/>
        <!-- inner petals -->
        <path class="flower" d="M142,63 C146,66 152,66 156,62 C160,58 161,51 158,46 C155,41 148,39 142,41 C136,43 131,49 131,56"/>
        <path class="flower" d="M131,56 C131,63 135,70 142,74 C149,78 158,78 164,74"/>
        <path class="flower" d="M158,46 C162,50 164,57 162,64 C160,71 154,78 146,80"/>
        <!-- outer petals -->
        <path class="flower" d="M164,74 C170,70 174,62 172,54 C170,46 164,40 156,38 C148,36 138,39 132,46"/>
        <path class="flower" d="M146,80 C138,82 130,79 125,72 C120,65 120,56 124,49"/>
        <path class="flower" d="M132,46 C128,51 126,58 128,66 C130,74 136,81 144,84"/>
        <!-- base petals -->
        <path class="flower" d="M172,54 C174,62 172,72 166,80 C160,88 150,93 140,92"/>
        <path class="flower" d="M144,84 C152,88 162,88 168,82"/>
        <path class="flower" d="M124,49 C120,56 120,66 124,76 C128,86 136,93 146,94"/>

        <!-- small rose buds -->
        <!-- left bud -->
        <path class="flower-inner" d="M72,100 C70,98 70,95 72,94 C74,93 76,95 75,98 C74,100 72,101 71,100"/>
        <path class="flower" d="M71,100 C68,102 65,101 64,98 C63,95 64,91 67,89 C70,87 75,88 78,91 C81,94 81,99 79,103"/>
        <path class="flower" d="M79,103 C77,107 73,110 68,110 C63,110 59,107 58,103"/>
        <path class="flower" d="M58,103 C56,99 57,94 60,90 C63,86 69,84 75,85"/>
        <path class="flower" d="M75,85 C80,86 85,90 86,96 C87,102 84,108 79,112"/>
        <!-- right bud -->
        <path class="flower-inner" d="M128,100 C130,98 130,95 128,94 C126,93 124,95 125,98 C126,100 128,101 129,100"/>
        <path class="flower" d="M129,100 C132,102 135,101 136,98 C137,95 136,91 133,89 C130,87 125,88 122,91 C119,94 119,99 121,103"/>
        <path class="flower" d="M121,103 C123,107 127,110 132,110 C137,110 141,107 142,103"/>
        <path class="flower" d="M142,103 C144,99 143,94 140,90 C137,86 131,84 125,85"/>
        <path class="flower" d="M125,85 C120,86 115,90 114,96 C113,102 116,108 121,112"/>

        <!-- bow -->
        <path class="bow" d="M100,278 C84,272 74,262 78,254 C82,246 94,254 100,266"/>
        <path class="bow" d="M100,278 C116,272 126,262 122,254 C118,246 106,254 100,266"/>
        <path class="bow" d="M96,280 C92,292 94,300 98,304"/>
        <path class="bow" d="M104,280 C108,292 106,300 102,304"/>
    </svg>

    <div id="love-text">
        <p>Margarita, Bella, Schatzi, Oxygen, Friend.</p>
        <p>I call you these names, but in reality you mean so much more to me.</p>
        <p>I miss you like hell.</p>
        <p>Happy Valentine's Day.</p>
    </div>

    <svg id="daisy" viewBox="0 0 90 150" width="90" height="150">
        <!-- S-curved stem -->
        <path class="daisy-stem" d="M45,150 C30,130 60,110 45,90 C35,75 40,62 45,52"/>
        <!-- small leaf -->
        <path class="daisy-leaf" d="M43,108 C33,101 27,91 31,83 C37,89 41,99 43,108"/>
        <!-- 21 wide petals radiating from center -->
        <path class="daisy-petal" d="M45,42 C40,32 38,18 45,6 C52,18 50,32 45,42"/>
        <path class="daisy-petal" d="M48,42 C46,32 48,18 55,8 C58,20 52,32 48,42"/>
        <path class="daisy-petal" d="M42,42 C44,32 42,18 35,8 C32,20 38,32 42,42"/>
        <path class="daisy-petal" d="M52,44 C56,36 66,26 76,22 C70,34 60,40 52,44"/>
        <path class="daisy-petal" d="M38,44 C34,36 24,26 14,22 C20,34 30,40 38,44"/>
        <path class="daisy-petal" d="M54,48 C62,44 74,40 86,42 C76,50 64,50 54,48"/>
        <path class="daisy-petal" d="M36,48 C28,44 16,40 4,42 C14,50 26,50 36,48"/>
        <path class="daisy-petal" d="M55,52 C64,52 78,54 88,60 C78,64 64,58 55,52"/>
        <path class="daisy-petal" d="M35,52 C26,52 12,54 2,60 C12,64 26,58 35,52"/>
        <path class="daisy-petal" d="M54,56 C62,60 72,70 78,82 C68,76 58,64 54,56"/>
        <path class="daisy-petal" d="M36,56 C28,60 18,70 12,82 C22,76 32,64 36,56"/>
        <path class="daisy-petal" d="M51,58 C56,66 60,78 58,90 C50,80 48,68 51,58"/>
        <path class="daisy-petal" d="M39,58 C34,66 30,78 32,90 C40,80 42,68 39,58"/>
        <path class="daisy-petal" d="M45,60 C45,70 45,82 45,94 C45,82 45,70 45,60"/>
        <path class="daisy-petal" d="M50,43 C52,34 58,22 68,14 C62,26 54,36 50,43"/>
        <path class="daisy-petal" d="M40,43 C38,34 32,22 22,14 C28,26 36,36 40,43"/>
        <path class="daisy-petal" d="M53,50 C60,48 72,46 84,50 C72,56 60,54 53,50"/>
        <path class="daisy-petal" d="M37,50 C30,48 18,46 6,50 C18,56 30,54 37,50"/>
        <path class="daisy-petal" d="M52,54 C60,56 70,62 76,72 C66,68 56,60 52,54"/>
        <path class="daisy-petal" d="M38,54 C30,56 20,62 14,72 C24,68 34,60 38,54"/>
        <path class="daisy-petal" d="M48,59 C52,68 54,80 50,92 C46,80 46,68 48,59"/>
        <!-- yellow center -->
        <ellipse class="daisy-center" cx="45" cy="50" rx="12" ry="11"/>
    </svg>
</div>

<script>
    const card     = document.getElementById('card');
    const yesBtn   = document.getElementById('yes-btn');
    const noBtn    = document.getElementById('no-btn');
    const celeb    = document.getElementById('celebration');
    const bouquet  = document.getElementById('bouquet');
    const loveText = document.getElementById('love-text');
    const daisy    = document.getElementById('daisy');

    /* ── Dodge game ── */
    let dodges = 0;
    const MAX_DODGES = 20;

    let yesFontSize = 1.45;
    let noFontSize  = 1.45;
    let yesPadV = 20, yesPadH = 52;
    let noPadV  = 20, noPadH  = 52;

    const YES_MAX_FONT = 3.2,  NO_MIN_FONT  = 0.4;
    const YES_MAX_PAD_V = 34,  YES_MAX_PAD_H = 80;
    const NO_MIN_PAD_V  = 3,   NO_MIN_PAD_H  = 8;

    const PROXIMITY = 80; /* px – dodge triggers when cursor is this close */
    let dodging = false;

    function dodgeNoBtn() {
        if (!noBtn.classList.contains('dodging')) {
            const r = noBtn.getBoundingClientRect();
            noBtn.classList.add('dodging');
            noBtn.style.left = r.left + 'px';
            noBtn.style.top  = r.top  + 'px';
            document.body.appendChild(noBtn);
        }

        const pad = 50;
        const nx = pad + Math.random() * (window.innerWidth  - noBtn.offsetWidth  - pad * 2);
        const ny = pad + Math.random() * (window.innerHeight - noBtn.offsetHeight - pad * 2);
        noBtn.style.left = nx + 'px';
        noBtn.style.top  = ny + 'px';

        dodges++;
        if (dodges <= MAX_DODGES) {
            noFontSize = Math.max(NO_MIN_FONT,  noFontSize - 0.09);
            noPadV     = Math.max(NO_MIN_PAD_V,  noPadV - 1.4);
            noPadH     = Math.max(NO_MIN_PAD_H,  noPadH - 3.5);
            noBtn.style.fontSize = noFontSize + 'rem';
            noBtn.style.padding  = noPadV + 'px ' + noPadH + 'px';

            yesFontSize = Math.min(YES_MAX_FONT, yesFontSize + 0.15);
            yesPadV     = Math.min(YES_MAX_PAD_V, yesPadV + 1.1);
            yesPadH     = Math.min(YES_MAX_PAD_H, yesPadH + 2.2);
            yesBtn.style.fontSize = yesFontSize + 'rem';
            yesBtn.style.padding  = yesPadV + 'px ' + yesPadH + 'px';
        }
    }

    /* Proximity detection: dodge when cursor gets near, not just on hover */
    document.addEventListener('mousemove', (e) => {
        if (noBtn.style.display === 'none') return;
        const r = noBtn.getBoundingClientRect();
        const cx = r.left + r.width / 2;
        const cy = r.top  + r.height / 2;
        const dx = e.clientX - cx;
        const dy = e.clientY - cy;
        const dist = Math.sqrt(dx * dx + dy * dy);
        if (dist < PROXIMITY + Math.max(r.width, r.height) / 2) {
            dodgeNoBtn();
        }
    });

    /* ── Preload images on page load ── */
    const photoSrcs = [
        'photos/45AE62F1-A26B-4FF1-83AB-F50F330DBDE5_1_105_c.jpeg',
        'photos/70690C3A-7A97-4BF9-9FF4-1E2101E52FF5_1_105_c.jpeg',
        'photos/IMG-20250602-WA0005.jpg',
        'photos/IMG-20250826-WA0001.jpg',
        'photos/IMG-20250826-WA0005.jpg',
        'photos/IMG-20250826-WA0006.jpg',
        'photos/PXL-20250604-224623582MP.gif',
    ];

    /* Preload immediately when script runs */
    photoSrcs.forEach(src => {
        const img = new Image();
        img.src = src;
    });

    /* ── Yes click → celebration ── */
    yesBtn.addEventListener('click', () => {
        card.classList.add('hidden');
        noBtn.style.display = 'none';

        setTimeout(() => {
            card.style.display = 'none';
            celeb.classList.add('active');

            /* Let the browser lay out the SVG before measuring path lengths */
            requestAnimationFrame(() => {
                bouquet.classList.add('visible');
                const bouquetDuration = animateBouquet();

                /* Photos start after bouquet finishes */
                const photosStart = bouquetDuration * 1000 + 400;
                const photosDuration = 7 * 800 + 500; /* 7 photos × stagger + settle time */

                /* Daisy starts after photos are done */
                const daisyStart = photosStart + photosDuration;

                setTimeout(scatterPhotos, photosStart);
                setTimeout(() => {
                    daisy.classList.add('visible');
                    animateDaisy(() => {
                        /* Text fades in after daisy completes + settle time */
                        setTimeout(() => {
                            loveText.classList.add('visible');
                        }, 0);
                    });
                }, daisyStart);
            });
        }, 650);
    });

    /* ── Bouquet line-draw ── */
    function animateBouquet() {
        const paths = bouquet.querySelectorAll('path');

        /* 1) Set initial hidden state (no transition yet) */
        paths.forEach(p => {
            const len = p.getTotalLength();
            p.style.transition = 'none';
            p.style.strokeDasharray  = len;
            p.style.strokeDashoffset = len;
        });

        /* 2) Force reflow so the browser registers the initial state */
        bouquet.getBoundingClientRect();

        /* 3) Now apply transitions and animate to 0 */
        let delay = 0;
        let maxEndTime = 0;
        paths.forEach(p => {
            const len = p.getTotalLength();
            const speed = p.classList.contains('stem') ? 120
                        : p.classList.contains('leaf') ? 100
                        : 80;
            const dur = Math.max(0.4, len / speed);

            p.style.transition = 'stroke-dashoffset ' + dur + 's ease ' + delay + 's';

            const endTime = delay + dur;
            if (endTime > maxEndTime) maxEndTime = endTime;

            if      (p.classList.contains('stem')) delay += 0.25;
            else if (p.classList.contains('leaf')) delay += 0.18;
            else if (p.classList.contains('bow'))  delay += 0.15;
            else                                   delay += 0.12;

            p.style.strokeDashoffset = '0';
        });

        return maxEndTime; /* total duration in seconds */
    }

    /* ── Daisy animation ── */
    function animateDaisy(onComplete) {
        const stem = daisy.querySelector('.daisy-stem');
        const leaf = daisy.querySelector('.daisy-leaf');
        const petals = daisy.querySelectorAll('.daisy-petal');
        const center = daisy.querySelector('ellipse');

        /* Hide petals and center initially */
        petals.forEach(p => {
            p.style.opacity = '0';
            p.style.transform = 'scale(0.3)';
            p.style.transformOrigin = '45px 50px';
            p.style.transition = 'none';
        });
        center.style.opacity = '0';
        center.style.transform = 'scale(0)';
        center.style.transformOrigin = '45px 50px';
        center.style.transition = 'none';

        /* Set up stem and leaf for line drawing */
        [stem, leaf].forEach(p => {
            const len = p.getTotalLength();
            p.style.transition = 'none';
            p.style.strokeDasharray = len;
            p.style.strokeDashoffset = len;
        });

        daisy.getBoundingClientRect();

        /* Draw stem (slower) */
        stem.style.transition = 'stroke-dashoffset 1.2s ease';
        stem.style.strokeDashoffset = '0';

        /* Draw leaf after stem */
        setTimeout(() => {
            leaf.style.transition = 'stroke-dashoffset 0.6s ease';
            leaf.style.strokeDashoffset = '0';
        }, 1000);

        /* Bloom petals one by one (slower stagger) */
        setTimeout(() => {
            petals.forEach((p, i) => {
                p.style.transition = 'opacity 0.5s ease ' + (i * 0.08) + 's, transform 0.6s cubic-bezier(0.34,1.56,0.64,1) ' + (i * 0.08) + 's';
                p.style.opacity = '1';
                p.style.transform = 'scale(1)';
            });
        }, 1500);

        /* Pop in center */
        const petalsDuration = petals.length * 80 + 300; /* stagger + animation */
        setTimeout(() => {
            center.style.transition = 'opacity 0.4s ease, transform 0.5s cubic-bezier(0.34,1.56,0.64,1)';
            center.style.opacity = '1';
            center.style.transform = 'scale(1)';
        }, 1500 + petalsDuration);

        /* Callback when complete */
        const totalDuration = 1500 + petalsDuration + 500 + 600; /* extra settle time */
        if (onComplete) {
            setTimeout(onComplete, totalDuration);
        }
    }

    /* ── Photo collage ── */
    function scatterPhotos() {
        const photoSizes = [
            { w: 158, h: 211 },
            { w: 217, h: 290 },
            { w: 173, h: 230 },
            { w: 154, h: 275 },
            { w: 257, h: 151 },
            { w: 154, h: 275 },
            { w: 198, h: 264 },
        ];

        /* Left column: photos 0, 2, 4, 6  |  Right column: photos 5, 3, 1 */
        const spots = [
            { x: 4,  y: 1,  r: -7  },   /* 0  top-left      (car girl)      */
            { x: 78, y: 56, r: -4  },   /* 1  bottom-right   (restaurant)    */
            { x: 12, y: 24, r: 9   },   /* 2  left-mid       (store)         */
            { x: 76, y: 20, r: 4   },   /* 3  right-mid      (kid+cat)       */
            { x: 18, y: 5, r: 5    },   /* 4  left-low       (mom+kid)       */
            { x: 64, y: 1,  r: -7  },   /* 5  top-right      (pink dress)    */
            { x: 8, y: 56, r: -3  },   /* 6  left-bottom    (GIF warehouse) */
        ];

        photoSrcs.forEach((src, i) => {
            const wrap = document.createElement('div');
            wrap.className = 'collage-photo';
            wrap.style.width  = photoSizes[i].w + 'px';
            wrap.style.height = photoSizes[i].h + 'px';
            wrap.style.left   = spots[i].x + 'vw';
            wrap.style.top    = spots[i].y + 'vh';

            const img = document.createElement('img');
            img.src = src;
            wrap.appendChild(img);
            celeb.appendChild(wrap);

            setTimeout(() => {
                wrap.classList.add('visible');
                wrap.style.transform = 'scale(1) rotate(' + spots[i].r + 'deg)';
            }, i * 800);
        });
    }
</script>
</body>
</html>
